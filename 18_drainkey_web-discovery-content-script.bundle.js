(()=>{var e={6815:function(e,r){var t,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,t=function(e){"use strict";if("object"!=typeof globalThis||"object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const r="The message port closed before a response was received.",t="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",s=e=>{const s={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(s).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(e,r=void 0){super(r),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const o=(r,t)=>(...s)=>{e.runtime.lastError?r.reject(new Error(e.runtime.lastError.message)):t.singleCallbackArg||s.length<=1&&!1!==t.singleCallbackArg?r.resolve(s[0]):r.resolve(s)},a=e=>1==e?"argument":"arguments",i=(e,r,t)=>new Proxy(r,{apply:(r,s,n)=>t.call(s,e,...n)});let l=Function.call.bind(Object.prototype.hasOwnProperty);const c=(e,r={},t={})=>{let s=Object.create(null),n={has:(r,t)=>t in e||t in s,get(n,m,g){if(m in s)return s[m];if(!(m in e))return;let u=e[m];if("function"==typeof u)if("function"==typeof r[m])u=i(e,e[m],r[m]);else if(l(t,m)){let r=((e,r)=>function(t,...s){if(s.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${a(r.minArgs)} for ${e}(), got ${s.length}`);if(s.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${a(r.maxArgs)} for ${e}(), got ${s.length}`);return new Promise(((n,a)=>{if(r.fallbackToNoCallback)try{t[e](...s,o({resolve:n,reject:a},r))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),t[e](...s),r.fallbackToNoCallback=!1,r.noCallback=!0,n()}else r.noCallback?(t[e](...s),n()):t[e](...s,o({resolve:n,reject:a},r))}))})(m,t[m]);u=i(e,e[m],r)}else u=u.bind(e);else if("object"==typeof u&&null!==u&&(l(r,m)||l(t,m)))u=c(u,r[m],t[m]);else{if(!l(t,"*"))return Object.defineProperty(s,m,{configurable:!0,enumerable:!0,get:()=>e[m],set(r){e[m]=r}}),u;u=c(u,r[m],t["*"])}return s[m]=u,u},set:(r,t,n,o)=>(t in s?s[t]=n:e[t]=n,!0),defineProperty:(e,r,t)=>Reflect.defineProperty(s,r,t),deleteProperty:(e,r)=>Reflect.deleteProperty(s,r)},m=Object.create(e);return new Proxy(m,n)},m=e=>({addListener(r,t,...s){r.addListener(e.get(t),...s)},hasListener:(r,t)=>r.hasListener(e.get(t)),removeListener(r,t){r.removeListener(e.get(t))}}),g=new n((e=>"function"!=typeof e?e:function(r){const t=c(r,{},{getContent:{minArgs:0,maxArgs:0}});e(t)}));let u=!1;const d=new n((e=>"function"!=typeof e?e:function(r,s,n){let o,a,i=!1,l=new Promise((e=>{o=function(r){u||(console.warn(t,(new Error).stack),u=!0),i=!0,e(r)}}));try{a=e(r,s,o)}catch(e){a=Promise.reject(e)}const c=!0!==a&&((m=a)&&"object"==typeof m&&"function"==typeof m.then);var m;if(!0!==a&&!c&&!i)return!1;return(c?a:l).then((e=>{n(e)}),(e=>{let r;r=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:r})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),A=({reject:t,resolve:s},n)=>{e.runtime.lastError?e.runtime.lastError.message===r?s():t(new Error(e.runtime.lastError.message)):n&&n.__mozWebExtensionPolyfillReject__?t(new Error(n.message)):s(n)},f=(e,r,t,...s)=>{if(s.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${a(r.minArgs)} for ${e}(), got ${s.length}`);if(s.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${a(r.maxArgs)} for ${e}(), got ${s.length}`);return new Promise(((e,r)=>{const n=A.bind(null,{resolve:e,reject:r});s.push(n),t.sendMessage(...s)}))},p={devtools:{network:{onRequestFinished:m(g)}},runtime:{onMessage:m(d),onMessageExternal:m(d),sendMessage:f.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:f.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},h={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return s.privacy={network:{"*":h},services:{"*":h},websites:{"*":h}},c(e,p,s)};e.exports=s(chrome)}else e.exports=globalThis.browser},void 0===(s=t.apply(r,[e]))||(e.exports=s)},3542:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.default={specific:"node",platform:"webextension",brocfile:"Brocfile.brave.js",baseURL:"/modules/",pack:"npm pack",sourceMaps:!1,format:"common",settings:{ENDPOINT_HPNV2_ANONYMOUS:"https://collector.wdp.brave.com",ENDPOINT_HPNV2_DIRECT:"https://collector.wdp.brave.com",ENDPOINT_PATTERNS:"https://patterns.wdp.brave.com/patterns.gz",ENDPOINT_SAFE_QUORUM_PROVIDER:"https://quorum.wdp.brave.com/config",ENDPOINT_STAR:"https://star.wdp.brave.com/",FETCHER_GATEWAY:"https://fg.search.brave.com",WDP_CHANNEL:"brave",WDP_PATTERNS_SIGNING:!0,WDP_ENV:"production",ALLOWED_COUNTRY_CODES:["de","at","ch","es","us","fr","nl","gb","it","be","se","dk","fi","cz","gr","hu","ro","no","ca","au","ru","ua","in","pl","jp","br","mx","cn","ar"]},default_prefs:{"modules.web-discovery-project.enabled":!0,"modules.hpnv2.enabled":!0,"modules.fetcher.enabled":!1},bundles:["core/content-script.bundle.js","hpnv2/worker.wasm.bundle.js","hpnv2/worker.asmjs.bundle.js","webextension-specific/app.bundle.js"],modules:["core","web-discovery-project","hpnv2","fetcher","webrequest-pipeline","webextension-specific"],environment:"prod",isBeta:!1,EXTENSION_VERSION:"1.1.71",VERSION:"1.1.71"}},7215:(e,r,t)=>{"use strict";var s;t(7276),(0,((s=t(7413))&&s.__esModule?s:{default:s}).default)()},9399:(e,r,t)=>{"use strict";var s=t(383),n=t(4066);function o(e,r){const t=[];if(window.parent!==window&&window.document&&window.document.scripts)for(let e=0;e<window.document.scripts.length;e+=1){const r=window.document.scripts[e].src;r.startsWith("http")&&t.push(r)}let s=e.target;1!==s.nodeType&&(s=s.parentNode);let n=null;s.closest("a[href]")&&(n=s.closest("a[href]").getAttribute("href"));const o={target:{baseURI:e.target.baseURI,value:e.target.value,href:e.target.href,parentNode:{href:e.target.parentNode?e.target.parentNode.href:null},linksSrc:t}};r.app.modules.core.action("recordMouseDown",o,function(e){let r,t=e.target;try{for(let e=0;e<5;e+=1){if(r=t.innerHTML,-1!==r.indexOf("http://")||-1!==r.indexOf("https://"))return r;t=t.parentNode,e+=1}}catch(e){}}(e),n)}function a(){return window.document.documentElement.outerHTML}function i(e){const r=window.document.querySelector(e);try{return r.click(),!0}catch(e){return!1}}function l(e,r,{shadowRootSelector:t=null,attributeType:s="property"}={}){const n=t?window.document.querySelector(t).shadowRoot:window.document,o=r.split(","),a=(e,r)=>"property"===s?e[r]:e.getAttribute(r);return Array.prototype.map.call(n.querySelectorAll(e),(e=>o.length>1?o.reduce(((r,t)=>({...r,[t]:a(e,t)})),{}):a(e,r)))}(0,s.registerContentScript)({module:"core",matches:["<all_urls>"],allFrames:!0,matchAboutBlank:!0,js:[(e,r,t)=>{const s=e=>{o(e,t)};return e.addEventListener("mousedown",(0,n.throttle)(e,s,250)),e.addEventListener("pagehide",(()=>{e.removeEventListener("mousedown",s)}),{once:!0}),{getHTML:a,click:i,queryHTML:l}}]})},9141:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=o(t(5185)),n=o(t(366));function o(e){return e&&e.__esModule?e:{default:e}}class a{constructor(){var e,r,t;e=this,t=5e3,(r=function(e){var r=function(e){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:String(r)}(r="MAX_BUFFER_LEN"))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,this.buffer=[],this.onMessage=e=>this.buffer.length<this.MAX_BUFFER_LEN?new Promise(((r,t)=>{this.buffer.push({message:e,resolve:r,reject:t})})):Promise.reject(new Error(`content-script actions buffer limit exceeded: ${this.buffer.length} ${this.MAX_BUFFER_LEN}`))}init(){n.default.onMessage.addListener(this.onMessage)}unload(){n.default.onMessage.removeListener(this.onMessage)}}r.default=class{constructor(){this.actions=null,this.messageHandlers=[new a];for(const e of this.messageHandlers)e.init()}unload(){for(const e of this.messageHandlers)e.unload();this.messageHandlers=[]}setActionCallbacks(e){const r=this.messageHandlers[0].buffer;this.unload();for(const[t,n]of Object.entries(e)){const e=new s.default(t,n);for(const{message:t,resolve:s,reject:n}of r){const r=e.onMessage(t);void 0!==r&&r.then(s).catch(n)}e.init(),this.messageHandlers.push(e)}}}},621:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s,n=t(2776),o=(s=t(3542))&&s.__esModule?s:{default:s};function a(){}r.default="development"===o.default.environment?n.window.console:new Proxy({},{get:()=>a})},6109:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.documentBodyReady=function(){return window.document&&window.document.body?Promise.resolve():new Promise((e=>{window.addEventListener("DOMContentLoaded",e,{once:!0})}))},r.isTopWindow=function(e){return e.self===e.top}},341:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,r){const{protocol:o,hostname:a,pathname:i,search:l}=new URL(r),c=function(e){if("<all_urls>"===e)return{scheme:t,host:null,path:null};const r=e.indexOf("://");if(-1===r)throw new Error('<scheme> missing, "://" not found');const o=e.slice(0,r),a=function(e){if("*"===e)return new Set(["http","https","ws","wss"]);if(t.has(e))return new Set([e]);throw new Error(`<scheme> is not valid: ${e}`)}(o),i=e.indexOf("/",r+3);if(-1===i)throw new Error('<path> missing, "/" not found');const l=function(e,r){if(r.includes(":"))throw new Error("<host> must not include a port number");if(0===r.length){if("file"===e)return/^$/;throw new Error('<host> is optional only if the scheme is "file"')}const t=r.lastIndexOf("*");if(-1!==t){if("*"===r)return null;if(0!==t)throw new Error("<host> wildcard may only appear at the start");if("."!==r[1])throw new Error('<host> only "*" and "*." followed by hostname parts are valid');const e=r.slice(2);if(!1===s.test(e))throw new Error("<host> contains invalid characters");return new RegExp(`^(?:.*[.])?${n(e)}$`)}if(!1===s.test(r))throw new Error("<host> contains invalid characters");return new RegExp(`^${n(r)}$`)}(o,e.slice(r+3,i)),c=function(e){return new RegExp(`^${n(e)}$`)}(e.slice(i+1));return{scheme:a,host:l,path:c}}(e);return!1!==c.scheme.has(o.slice(0,o.length-1))&&((null===c.host||!1!==c.host.test(a))&&(null===c.path||!1!==c.path.test(`${i.slice(1)}${l}`)))};const t=new Set(["http","https","ws","wss","data","file"]),s=/^[.\w_-]+$/;function n(e){return e.replace(/([|.$+?{}()[\]\\])/g,"\\$1").replace(/\*/g,".*")}},383:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.registerContentScript=function(e){void 0!==e.module?!1!==Array.isArray(e.js)?!1!==Array.isArray(e.matches)?void 0===e.excludeMatches||!1!==Array.isArray(e.excludeMatches)?l.push(e):o.default.error('"excludeMatches" should either be undefined or an array of match patterns',e):o.default.error('"matches" should be an array of match patterns',e):o.default.error('"js" should be an array of functions',e):o.default.error('"module" property should be specified in content.es',e)},r.runContentScripts=function(e,r,t){const s={};for(const n of l){const{module:a,js:l}=n,{isEnabled:c}=t.app.modules[a]||{isEnabled:!1};if(c&&i(e,n))for(const n of l)try{const o=n(e,r,t)||{};s[a]={...s[a],...o}}catch(e){o.default.error(`WDP content-script failed: ${e} ${e.stack}`)}}return s};var s=a(t(341)),n=t(6109),o=a(t(621));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,r){if(!1===(0,n.isTopWindow)(e)&&!0!==r.allFrames)return!1;let t=e.location.href;if("about:blank"===t||"about:srcdoc"===t){if(!0!==r.matchAboutBlank)return!1;if(!e.parent)return!1;t=e.parent.location.href}if(void 0!==r.excludeMatches)for(const e of r.excludeMatches)if((0,s.default)(e,t))return!1;for(const e of r.matches)if((0,s.default)(e,t))return!0;return!1}const l=[]},7413:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if("html"!==s.window.document.documentElement.nodeName.toLowerCase())return;const e=new o.default;new Promise((e=>{void 0!==s.window.WDP?e(s.window.WDP):(s.window.runContent=e,n.default.sendMessage({module:"core",action:"status"}).then((e=>({app:e}))).then(e,(()=>{})))})).then((r=>{for(const[e,t]of Object.entries(r.app.modules))t.action=(r,...t)=>n.default.sendMessage({module:e,action:r,args:t});e.setActionCallbacks((0,a.runContentScripts)(s.window,s.chrome,r)),s.window.addEventListener("pagehide",(()=>{e.unload()}),{once:!0})}))};var s=t(2776),n=i(t(366)),o=i(t(9141)),a=t(383);function i(e){return e&&e.__esModule?e:{default:e}}},4066:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deadline=function(e,r){return Promise.race([(0,n.default)(r),e])},r.debounce=function(e,r){let t=null;return r?function(...s){(0,o.clearTimeout)(t),t=(0,o.setTimeout)((()=>{t=null,e(...s)}),r)}:e},r.nextIdle=function(){return"undefined"!=typeof window&&window.requestIdleCallback?new Promise((e=>{window.requestIdleCallback(e)})):a((()=>{}))},r.nextTick=a,r.throttle=function(e,r,t){let s,n;return(...o)=>{const a=Date.now();s&&a<s+t?(e.clearTimeout(n),n=e.setTimeout((()=>{s=a,r(...o)}),t)):(s=a,r(...o))}},r.tryPromise=async function(e,r=1e3){try{return await i(e,r)}catch(e){return`Failed: ${e}`}},r.withTimeout=i;var s,n=(s=t(8351))&&s.__esModule?s:{default:s},o=t(3334);function a(e,...r){return Promise.resolve().then((()=>e(...r)))}async function i(e,r){let t;try{return t=new Promise(((e,t)=>{(0,o.setTimeout)((()=>t(new Error(`Timed out after ${r/1e3} seconds`))),r)})),await Promise.race([e,t])}finally{(0,o.clearTimeout)(t)}}},5185:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s,n=(s=t(366))&&s.__esModule?s:{default:s};r.default=class{constructor(e,r){this.onMessage=t=>{if(t.module===e){const e=r[t.action];if(void 0!==e){let r=t.args||[];return void 0!==t.message&&(r=[t.message]),Promise.resolve(e(...r))}}}}init(){n.default.onMessage.addListener(this.onMessage)}unload(){n.default.onMessage.removeListener(this.onMessage)}}},8351:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return new Promise((r=>(0,s.setTimeout)(r,e)))};var s=t(3334)},3334:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"clearInterval",{enumerable:!0,get:function(){return s.clearInterval}}),Object.defineProperty(r,"clearTimeout",{enumerable:!0,get:function(){return s.clearTimeout}}),Object.defineProperty(r,"setInterval",{enumerable:!0,get:function(){return s.setInterval}}),Object.defineProperty(r,"setTimeout",{enumerable:!0,get:function(){return s.setTimeout}});var s=t(7642)},7276:(e,r,t)=>{"use strict";t(9399),t(9083)},2776:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.window=r.chrome=void 0,r.chrome="undefined"!=typeof browser?browser:chrome,r.window=window},366:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s,n=(s=t(6815))&&s.__esModule?s:{default:s};r.default=("undefined"!=typeof browser?browser:n.default).runtime},7642:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setTimeout=r.setInterval=r.clearTimeout=r.clearInterval=void 0,r.setTimeout=(...e)=>("undefined"==typeof setTimeout?window.setTimeout.bind(window):setTimeout)(...e),r.setInterval=(...e)=>("undefined"==typeof setInterval?window.setInterval.bind(window):setInterval)(...e),r.clearTimeout=(...e)=>("undefined"==typeof clearTimeout?window.clearTimeout.bind(window):clearTimeout)(...e),r.clearInterval=(...e)=>("undefined"==typeof clearInterval?window.clearInterval.bind(window):clearInterval)(...e)},7079:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.normalizeAclkUrl=function(e){const r=e.split("aclk?");if(2!==r.length)throw new Error(`Expected Google pagead "aclk" URL. Instead got: ${e}`);return r[1].replace(/ved=.*&/,"").replace(/&q=&adurl=$/,"").replace(/&adurl=&q=$/,"")}},9083:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseDom=l;var s=t(383),n=t(4066),o=t(6109),a=t(7079);function i(e){window.console.error("[web-discovery-project] Exception caught:",e)}function l(e,r,t){const s=r.document;try{let e=null;if(e=s.querySelector("script"),e&&e.innerHTML.indexOf("location.replace")>-1){const e=s.querySelector("title").textContent;t.action("jsRedirect",{location:e,url:s.location.href})}}catch(e){i(e)}try{let e="",r=!1;s.querySelector("#s0p1c0")&&(e=s.querySelector("#s0p1c0").href),s.querySelector("#tads .ads-ad")&&null===s.querySelector("#tads .ads-ad").offsetParent&&(r=!0);const n={type:"dom",ad:e,hidden:r};t.action("contentScriptTopAds",{message:n})}catch(e){i(e)}try{const e={},s=r.document;let n=0;const o={query:{element:"#rso",attribute:"data-async-context"},adSections:[".ads-ad",".pla-unit-container",".pla-hovercard-content-ellip",".cu-container tr"],0:{cu:".ad_cclk a[id^='s0p'],.ad_cclk a[id^='n1s0p'],.ad_cclk a[id^='s3p']",fu:".ad_cclk a[id^='vs0p'],.ad_cclk a[id^='vn1s0p'],.ad_cclk a[id^='vs3p']"},1:{cu:"a[id^='plaurlg']",fu:"a[id^='vplaurlg']"},2:{cu:"a[id^='plaurlh']",fu:"a[id^='vplaurlh']"},3:{cu:"a[id^='plaurlt']",fu:"a[id^='vplaurlt']"}},i=s.querySelector(o.query.element);let l="";if(i){l=i.getAttribute(o.query.attribute).replace("query:","");try{l=decodeURIComponent(l)}catch(e){}}o.adSections.forEach(((r,t)=>{Array.prototype.slice.call(s.querySelectorAll(r)).forEach((r=>{const s=o[t].cu,i=o[t].fu,c=r.querySelector(s),m=r.querySelector(i);if(c&&m){const r=(0,a.normalizeAclkUrl)(c.href);e[r]={ts:Date.now(),query:l,furl:[m.getAttribute("data-preconnect-urls"),m.href]},n+=1}}))})),n>0&&t.action("adClick",{ads:e})}catch(e){i(e)}}(0,s.registerContentScript)({module:"web-discovery-project",matches:["http://*/*","https://*/*"],js:[function(e,r,t){e.location.href;const s=t.app.modules["web-discovery-project"];function a(e){return r=>{s.action(e,{target:{baseURI:r.target.baseURI}})}}e.top===e&&(0,o.documentBodyReady)().then((()=>{l(0,e,s)}));const i=(0,n.throttle)(e,a("wdp:keypress"),250),c=(0,n.throttle)(e,a("wdp:mousemove"),250),m=(0,n.throttle)(e,a("wdp:scroll"),250),g=(0,n.throttle)(e,a("wdp:copy"),250);e.addEventListener("keypress",i),e.addEventListener("mousemove",c),e.addEventListener("scroll",m),e.addEventListener("copy",g),e.addEventListener("pagehide",(function(r){if(!r||r.target===e.document){try{String(e)}catch(e){return}e.removeEventListener("keypress",i),e.removeEventListener("mousemove",c),e.removeEventListener("scroll",m),e.removeEventListener("copy",g)}}))}],allFrames:!0})}},r={};function t(s){var n=r[s];if(void 0!==n)return n.exports;var o=r[s]={exports:{}};return e[s].call(o.exports,o,o.exports,t),o.exports}(()=>{"use strict";t(7215)})()})();